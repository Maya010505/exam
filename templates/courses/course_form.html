<!-- templates/courses/course_form.html -->
{% extends "base.html" %}

{% block title %}{% if form.instance.pk %}Редактировать курс{% else %}Создать курс{% endif %}{% endblock %}

{% block content %}
<h1 class="mb-4">{% if form.instance.pk %}Редактировать курс{% else %}Создать курс{% endif %}</h1>

<form method="post" enctype="multipart/form-data" class="card p-4">
    {% csrf_token %}
    <div class="mb-3">
        <label for="{{ form.title.id_for_label }}" class="form-label">Название курса:</label>
        {{ form.title }}
        {% if form.errors.title %}
            <small class="text-danger">{{ form.errors.title }}</small>
        {% endif %}
    </div>
    <div class="mb-3">
        <label for="{{ form.description.id_for_label }}" class="form-label">Описание курса:</label>
        {{ form.description }}
    </div>
    <div class="mb-3">
        <label for="{{ form.start_date.id_for_label }}" class="form-label">Дата начала:</label>
        {{ form.start_date }}
    </div>
    <div class="mb-3">
        <label for="{{ form.end_date.id_for_label }}" class="form-label">Дата окончания:</label>
        {{ form.end_date }}
    </div>
    <div class="mb-3">
        <label for="{{ form.logo.id_for_label }}" class="form-label">Логотип курса:</label>
        {{ form.logo }}
        {% if form.instance.logo %}
            <img src="{{ form.instance.logo.url }}" alt="Текущий логотип" class="img-fluid rounded mt-2" style="max-height: 100px;">
        {% endif %}
    </div>
    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Сохранить</button>
    <a href="{% url 'courses:list' %}" class="btn btn-secondary"><i class="fas fa-times"></i> Отмена</a>
</form>
{% endblock %}